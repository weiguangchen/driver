"use strict";const e=require("../../../uv-ui-tools/libs/mixin/mpMixin.js"),i=require("../../../uv-ui-tools/libs/mixin/mixin.js"),t=require("./props.js"),n=require("../../../../common/vendor.js"),o={name:"uv-input",mixins:[e.mpMixin,i.mixin,t.props],data:()=>({innerValue:"",focused:!1,innerFormatter:e=>e}),created(){this.innerValue=this.modelValue},watch:{value(e){this.innerValue=e},modelValue(e){this.innerValue=e}},computed:{isShowClear(){const{clearable:e,readonly:i,focused:t,innerValue:n}=this;return!!e&&!i&&!!t&&""!==n},inputClass(){let e=[],{border:i,disabled:t,shape:n}=this;return"surround"===i&&(e=e.concat(["uv-border","uv-input--radius"])),e.push(`uv-input--${n}`),"bottom"===i&&(e=e.concat(["uv-border-bottom","uv-input--no-radius"])),e.join(" ")},wrapperStyle(){const e={};return this.disabled&&(e.backgroundColor=this.disabledColor),"none"===this.border?e.padding="0":(e.paddingTop="6px",e.paddingBottom="6px",e.paddingLeft="9px",e.paddingRight="9px"),this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))},inputStyle(){const e={color:this.color,fontSize:this.$uv.addUnit(this.fontSize),textAlign:this.inputAlign};return(this.disabled||this.readonly)&&(e["pointer-events"]="none"),e}},methods:{setFormatter(e){this.innerFormatter=e},onInput(e){let{value:i=""}=e.detail||{};const t=(this.formatter||this.innerFormatter)(i);this.innerValue=i,this.$nextTick((()=>{this.innerValue=t,this.valueChange()}))},onBlur(e){this.$emit("blur",e.detail.value),this.$uv.sleep(100).then((()=>{this.focused=!1})),this.$uv.formValidate(this,"blur")},onFocus(e){this.focused=!0,this.$emit("focus")},onConfirm(e){this.$emit("confirm",this.innerValue)},onkeyboardheightchange(e){this.$emit("keyboardheightchange",e)},valueChange(){this.isClear&&(this.innerValue="");const e=this.innerValue;this.$nextTick((()=>{this.$emit("input",e),this.$emit("update:modelValue",e),this.$emit("change",e),this.$uv.formValidate(this,"change")}))},onClear(){this.innerValue="",this.isClear=!0,this.$uv.sleep(200).then((e=>{this.isClear=!1})),this.$nextTick((()=>{this.$emit("clear"),this.valueChange()}))},clickHandler(){}}};if(!Array){n.resolveComponent("uv-icon")()}Math;const s=n._export_sfc(o,[["render",function(e,i,t,o,s,r){return n.e({a:e.prefixIcon},e.prefixIcon?{b:n.p({name:e.prefixIcon,size:"18",customStyle:e.prefixIconStyle})}:{},{c:n.s(r.inputStyle),d:e.type,e:e.focus,f:e.cursor,g:s.innerValue,h:e.autoBlur,i:e.disabled||e.readonly,j:e.maxlength,k:e.placeholder,l:e.placeholderStyle,m:e.placeholderClass,n:e.confirmType,o:e.confirmHold,p:e.holdKeyboard,q:e.cursorSpacing,r:e.adjustPosition,s:e.selectionEnd,t:e.selectionStart,v:e.password||"password"===e.type||void 0,w:e.ignoreCompositionEvent,x:n.o(((...e)=>r.onInput&&r.onInput(...e))),y:n.o(((...e)=>r.onBlur&&r.onBlur(...e))),z:n.o(((...e)=>r.onFocus&&r.onFocus(...e))),A:n.o(((...e)=>r.onConfirm&&r.onConfirm(...e))),B:n.o(((...e)=>r.onkeyboardheightchange&&r.onkeyboardheightchange(...e))),C:n.o(((...e)=>r.clickHandler&&r.clickHandler(...e))),D:r.isShowClear},r.isShowClear?{E:n.p({name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"}),F:n.o(((...e)=>r.onClear&&r.onClear(...e)))}:{},{G:e.suffixIcon},e.suffixIcon?{H:n.p({name:e.suffixIcon,size:"18",customStyle:e.suffixIconStyle})}:{},{I:n.n(r.inputClass),J:n.s(r.wrapperStyle)})}],["__scopeId","data-v-e7492738"]]);wx.createComponent(s);
