"use strict";const e=require("../../../uv-ui-tools/libs/mixin/mpMixin.js"),t=require("../../../uv-ui-tools/libs/mixin/mixin.js"),n=require("./props.js"),i=require("../../../../common/vendor.js"),a={name:"uv-textarea",mixins:[e.mpMixin,t.mixin,n.props],data:()=>({innerValue:"",focused:!1,innerFormatter:e=>e}),created(){this.innerValue=this.modelValue},watch:{value(e){this.innerValue=e},modelValue(e){this.innerValue=e}},computed:{textareaClass(){let e=[],{border:t,disabled:n}=this;return"surround"===t&&(e=e.concat(["uv-border","uv-textarea--radius"])),"bottom"===t&&(e=e.concat(["uv-border-bottom","uv-textarea--no-radius"])),n&&e.push("uv-textarea--disabled"),e.join(" ")},textareaStyle(){return this.$uv.deepMerge({},this.$uv.addStyle(this.customStyle))},maxlen(){return this.maxlength<0?this.maxlength<0?-1:140:this.maxlength},getCount(){try{return this.innerValue.length>this.maxlen?this.maxlen:this.innerValue.length}catch(e){return 0}}},methods:{setFormatter(e){this.innerFormatter=e},onFocus(e){this.$emit("focus",e)},onBlur(e){this.$emit("blur",e),this.$uv.formValidate(this,"blur")},onLinechange(e){this.$emit("linechange",e)},onInput(e){let{value:t=""}=e.detail||{};const n=(this.formatter||this.innerFormatter)(t);this.innerValue=t,this.$nextTick((()=>{this.innerValue=n,this.valueChange()}))},valueChange(){const e=this.innerValue;this.$nextTick((()=>{this.$emit("input",e),this.$emit("update:modelValue",e),this.$emit("change",e),this.$uv.formValidate(this,"change")}))},onConfirm(e){this.$emit("confirm",e)},onKeyboardheightchange(e){this.$emit("keyboardheightchange",e)}}};const o=i._export_sfc(a,[["render",function(e,t,n,a,o,r){return i.e({a:o.innerValue,b:i.s({height:e.autoHeight?"auto":e.$uv.addUnit(e.height)}),c:i.s(e.$uv.addStyle(e.textStyle)),d:e.placeholder,e:e.$uv.addStyle(e.placeholderStyle,"string"),f:e.placeholderClass,g:e.disabled,h:e.focus,i:e.autoHeight,j:e.fixed,k:e.cursorSpacing,l:e.cursor,m:e.showConfirmBar,n:e.selectionStart,o:e.selectionEnd,p:e.adjustPosition,q:e.disableDefaultPadding,r:e.holdKeyboard,s:r.maxlen,t:e.confirmType,v:e.ignoreCompositionEvent,w:e.confirmHold,x:i.o(((...e)=>r.onFocus&&r.onFocus(...e))),y:i.o(((...e)=>r.onBlur&&r.onBlur(...e))),z:i.o(((...e)=>r.onLinechange&&r.onLinechange(...e))),A:i.o(((...e)=>r.onInput&&r.onInput(...e))),B:i.o(((...e)=>r.onConfirm&&r.onConfirm(...e))),C:i.o(((...e)=>r.onKeyboardheightchange&&r.onKeyboardheightchange(...e))),D:e.count&&-1!=r.maxlen},e.count&&-1!=r.maxlen?{E:i.t(r.getCount),F:i.t(r.maxlen),G:i.s({"background-color":e.disabled?"transparent":"#fff"}),H:i.s(e.$uv.addStyle(e.countStyle))}:{},{I:i.n(r.textareaClass),J:i.s(r.textareaStyle)})}],["__scopeId","data-v-2ec10f78"]]);wx.createComponent(o);
