"use strict";const e=require("../../../common/vendor.js");if(!Array){(e.resolveComponent("uv-icon")+e.resolveComponent("uv-line")+e.resolveComponent("uv-datetime-picker"))()}Math||((()=>"../../../uni_modules/uv-icon/components/uv-icon/uv-icon.js")+(()=>"../../../uni_modules/uv-line/components/uv-line/uv-line.js")+(()=>"../../../uni_modules/uv-datetime-picker/components/uv-datetime-picker/uv-datetime-picker.js"))();const a={__name:"my-datetime",props:{modelValue:{default:()=>[],type:Array}},emits:["update:modelValue","change"],setup(a,{emit:u}){const o=a,l=u,t=e.ref(),n=e.ref(),v=e.ref("start"),r=e.ref(),d=e.ref(),s=e.ref(),i=e.dayjs(),m=e.dayjs().add(1,"year").valueOf(),c=e.ref();e.watchEffect((()=>{const[e,a]=o.modelValue;t.value=e,n.value=a}));const p=e.computed((()=>t.value&&e.dayjs(t.value).isAfter(i)?e.dayjs(t.value).valueOf():e.dayjs(i).valueOf())),f=e.computed((()=>n.value&&e.dayjs(n.value).isBefore(m)?e.dayjs(n.value).valueOf():e.dayjs(m).valueOf()));function j(e){v.value=e,"start"===e&&(d.value=i.valueOf(),s.value=f.value),"end"===e&&(d.value=p.value,s.value=m.valueOf()),r.value.open()}function y({value:a}){const u=e.dayjs(a).format("YYYY-MM-DD");"start"===v.value&&(t.value=u),"end"===v.value&&(n.value=u);const o=[(null==t?void 0:t.value)??"",(null==n?void 0:n.value)??""];l("update:modelValue",o),l("change",o)}return(a,u)=>({a:e.t(t.value||"开始时间"),b:e.p({name:"arrow-down",size:"8",color:"#B0BECC"}),c:e.o((e=>j("start"))),d:e.p({color:"#C8D4DF",length:"20rpx",margin:"0 20rpx"}),e:e.t(n.value||"结束时间"),f:e.p({name:"arrow-down",size:"8",color:"#B0BECC"}),g:e.o((e=>j("end"))),h:e.sr(r,"9ed9606e-3",{k:"datetimePicker"}),i:e.o(y),j:e.o((e=>c.value=e)),k:e.p({mode:"date",confirmColor:"var(--main-color)","min-date":d.value,"max-date":s.value,modelValue:c.value})})}};wx.createComponent(a);
