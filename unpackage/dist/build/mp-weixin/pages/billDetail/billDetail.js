"use strict";const e=require("../../common/vendor.js"),a=require("../../api/index.js");if(!Array){(e.resolveComponent("uv-navbar")+e.resolveComponent("uv-icon")+e.resolveComponent("uv-image")+e.resolveComponent("uv-button")+e.resolveComponent("my-plate"))()}Math||((()=>"../../uni_modules/uv-navbar/components/uv-navbar/uv-navbar.js")+(()=>"../../uni_modules/uv-icon/components/uv-icon/uv-icon.js")+(()=>"../../uni_modules/uv-image/components/uv-image/uv-image.js")+t+(()=>"../../uni_modules/uv-button/components/uv-button/uv-button.js")+(()=>"../../components/my-plate/my-plate.js")+n+u)();const t=()=>"./components/Material.js",n=()=>"./components/MapDrawer.js",u=()=>"./components/StepDrawer.js",l={__name:"billDetail",setup(t){const n=e.ref(),u=e.ref("");e.onLoad((a=>{n.value=e.index.getSystemInfoSync().statusBarHeight,u.value=(null==a?void 0:a.assignId)??"",r()}));const l=e.ref({});async function r(){try{const e=await a.GetReceiveAssignDetail({assignId:u.value});l.value={...e,MatList:e.MatList.map((a=>({...a,FullLoad:"0",Load:e.ConfigEnt&&e.ConfigEnt.fullLoadMax?e.ConfigEnt.fullLoadMax:void 0})))}}catch{}}const o=e.computed((()=>`${n.value+56}px`));function v(){e.index.navigateBack()}const i=e.ref();function s(){i.value.open()}const d=e.ref();function m(){d.value.open()}function E(){e.index.makePhoneCall({phoneNumber:l.value.OwnerEnt.LinkerMobile})}function p(){r()}return(a,t)=>e.e({a:e.o(v),b:e.p({bgColor:"rgba(255,255,255,0)"}),c:o.value,d:"0"===l.value.EntryAuthened?1:"",e:"0"===l.value.EntryAuthened},"0"===l.value.EntryAuthened?{}:{f:e.p({name:"arrow-right",size:"32rpx",color:"#FFFFFF","custom-style":{marginLeft:"8rpx"},bold:!0})},{g:!l.value.StartTime&&!l.value.EndTime||l.value.StartTime&&e.unref(e.dayjs)().isAfter(l.value.StartTime)&&!l.value.EndTime},!l.value.StartTime&&!l.value.EndTime||l.value.StartTime&&e.unref(e.dayjs)().isAfter(l.value.StartTime)&&!l.value.EndTime?{}:!l.value.EndTime&&l.value.StartTime&&e.unref(e.dayjs)().isBefore(l.value.StartTime)?{i:e.t(l.value.StartTime)}:l.value.EndTime&&l.value.StartTime&&e.unref(e.dayjs)().isBefore(l.value.StartTime)?{k:e.t(l.value.StartTime),l:e.t(l.value.EndTime)}:l.value.StartTime&&e.unref(e.dayjs)().isAfter(l.value.StartTime)&&l.value.EndTime&&e.unref(e.dayjs)().isBefore(l.value.EndTime)||!l.value.StartTime&&l.value.EndTime&&e.unref(e.dayjs)().isBefore(l.value.EndTime)?{n:e.t(l.value.EndTime)}:{},{h:!l.value.EndTime&&l.value.StartTime&&e.unref(e.dayjs)().isBefore(l.value.StartTime),j:l.value.EndTime&&l.value.StartTime&&e.unref(e.dayjs)().isBefore(l.value.StartTime),m:l.value.StartTime&&e.unref(e.dayjs)().isAfter(l.value.StartTime)&&l.value.EndTime&&e.unref(e.dayjs)().isBefore(l.value.EndTime)||!l.value.StartTime&&l.value.EndTime&&e.unref(e.dayjs)().isBefore(l.value.EndTime),o:e.o(m),p:l.value.SupEnt},l.value.SupEnt?{q:e.t(l.value.SupEnt?l.value.SupEnt.SupplierName:""),r:e.t(l.value.SupEnt?l.value.SupEnt.Province:""),s:e.t(l.value.SupEnt?l.value.SupEnt.City:""),t:e.t(l.value.SupEnt?l.value.SupEnt.District:""),v:e.t(l.value.SupEnt?l.value.SupEnt.Address:""),w:e.o(((...e)=>a.selectAddress&&a.selectAddress(...e))),x:e.p({src:"/static/images/arrow.png",duration:0,width:"24rpx",height:"24rpx"}),y:e.o(s)}:{},{z:l.value.UnloadEnt},l.value.UnloadEnt?{A:e.t(l.value.UnloadEnt?l.value.UnloadEnt.PlaceName:""),B:e.t(l.value.UnloadEnt?l.value.UnloadEnt.Province:""),C:e.t(l.value.UnloadEnt?l.value.UnloadEnt.City:""),D:e.t(l.value.UnloadEnt?l.value.UnloadEnt.District:""),E:e.t(l.value.UnloadEnt?l.value.UnloadEnt.Address:""),F:e.o(((...e)=>a.selectAddress&&a.selectAddress(...e))),G:e.p({src:"/static/images/arrow.png",duration:0,width:"24rpx",height:"24rpx"}),H:e.o(s)}:{},{I:l.value.MatList&&l.value.MatList.length>0},l.value.MatList&&l.value.MatList.length>0?{J:e.f(l.value.MatList,((a,t,n)=>({a:"9e3db46e-4-"+n,b:e.p({record:a,bill:l.value,"border-bottom":t<l.value.MatList.length-1})}))),K:e.o(p)}:{},{L:l.value.OwnerEnt},l.value.OwnerEnt?e.e({M:e.t(l.value.OwnerEnt?l.value.OwnerEnt.OwnerName:""),N:e.t(l.value.OwnerEnt?l.value.OwnerEnt.Linker:""),O:e.t(l.value.OwnerEnt?l.value.OwnerEnt.LinkerMobile:""),P:l.value.OwnerEnt&&l.value.OwnerEnt.LinkerMobile},l.value.OwnerEnt&&l.value.OwnerEnt.LinkerMobile?{Q:e.o(E),R:e.p({shape:"circle",color:"var(--page-bg)","custom-style":{height:"68rpx",color:"var(--main-color)",fontWeight:"bold"}})}:{}):{},{S:l.value.CarEnt},l.value.CarEnt?e.e({T:e.p({plate:l.value.CarEnt.Carno,color:l.value.CarEnt.Color}),U:e.t(l.value.CarEnt.CarType),V:l.value.DriverEnt},l.value.DriverEnt?{W:e.t(l.value.DriverEnt?l.value.DriverEnt.NickName:""),X:e.t(l.value.DriverEnt?l.value.DriverEnt.Mobile:"")}:{}):{},{Y:l.value.Memo},l.value.Memo?{Z:e.t(l.value.Memo)}:{},{aa:l.value.Memo},l.value.Memo?{ab:e.t(l.value.Memo)}:{},{ac:e.t(l.value.CreatorTime),ad:e.p({text:"取消运单",color:"var(--page-bg)","custom-style":{height:"96rpx",borderRadius:"16rpx",color:"var(--sub-color)"}}),ae:e.p({text:"已到达装货厂家",color:" linear-gradient( 270deg, #31CE57 0%, #07B130 100%)","custom-style":{height:"96rpx",borderRadius:"16rpx"}}),af:e.sr(i,"9e3db46e-9",{k:"mapModal"}),ag:e.sr(d,"9e3db46e-10",{k:"stepModal"})})}};wx.createPage(l);
