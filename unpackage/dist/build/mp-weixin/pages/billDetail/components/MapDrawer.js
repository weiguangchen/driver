"use strict";const e=require("../../../common/vendor.js"),o=require("../../../utils/index.js");if(!Array){(e.resolveComponent("uv-line")+e.resolveComponent("uv-image")+e.resolveComponent("uv-button")+e.resolveComponent("my-drawer"))()}Math||((()=>"../../../uni_modules/uv-line/components/uv-line/uv-line.js")+(()=>"../../../uni_modules/uv-image/components/uv-image/uv-image.js")+(()=>"../../../uni_modules/uv-button/components/uv-button/uv-button.js")+(()=>"../../../components/my-drawer/my-drawer.js"))();const n={__name:"MapDrawer",setup(n,{expose:t}){const{ctx:r}=e.getCurrentInstance(),a=e.ref(),i=e.ref();function u(){d.phone&&e.index.makePhoneCall({phoneNumber:d.phone})}function s(){e.index.openLocation({longitude:d.longitude,latitude:d.latitude,name:d.name,address:d.address})}e.onMounted((()=>{i.value=e.index.createMapContext("map",r)}));const d=e.reactive({type:"",name:"",address:"",user:"",phone:""});return t({open:async function(e){console.log("打开地图 data",e),d.type=(null==e?void 0:e.type)??"",d.name=(null==e?void 0:e.name)??"",d.address=(null==e?void 0:e.address)??"",d.user=(null==e?void 0:e.user)??"",d.phone=(null==e?void 0:e.phone)??"",d.longitude=(null==e?void 0:e.longitude)??"",d.latitude=(null==e?void 0:e.latitude)??"",a.value.popup.open(),await o.sleep(300);const n={id:123,longitude:e.longitude,latitude:e.latitude,iconPath:"/static/images/map-marker.png",width:"30rpx",height:"42rpx",customCallout:{display:"ALWAYS",anchorX:0,anchorY:-12}};i.value.addMarkers({markers:[n],clear:!0}),i.value.moveToLocation({longitude:d.longitude,latitude:d.latitude})}}),(o,n)=>e.e({a:e.t(1===d.type?"装货地":"卸货地"),b:1===d.type?1:"",c:2===d.type?1:"",d:e.t(d.name),e:e.t(d.address),f:d.user||d.phone},d.user||d.phone?e.e({g:e.p({color:"#E3E9EF",margin:"28rpx 0 32rpx"}),h:d.user||d.phone},d.user||d.phone?e.e({i:d.user},d.user?{j:e.t(d.user)}:{},{k:d.phone},d.phone?{l:e.t(d.phone)}:{}):{}):{},{m:e.p({src:"/static/images/phone.png",width:"40rpx",height:"40rpx",duration:0,"custom-style":{marginRight:"4rpx"}}),n:e.o(u),o:e.p({color:"#E7F9E9","custom-style":{height:"96rpx",border:"1px solid var(--main-color)",borderRadius:"16rpx",color:"var(--main-color)"}}),p:e.p({src:"/static/images/location.png",width:"40rpx",height:"40rpx",duration:0,"custom-style":{marginRight:"4rpx"}}),q:e.o(s),r:e.p({color:"linear-gradient( 270deg, #31CE57 0%, #07B130 100%)","custom-style":{height:"96rpx",borderRadius:"16rpx"}}),s:e.sr(a,"07e45dc5-0",{k:"drawer"}),t:e.p({showTitle:!1,bgColor:"#FFFFFF",round:"12px"})})}},t=e._export_sfc(n,[["__scopeId","data-v-07e45dc5"]]);wx.createComponent(t);
