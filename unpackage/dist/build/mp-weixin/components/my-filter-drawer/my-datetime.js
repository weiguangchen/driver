"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("uv-icon")+e.resolveComponent("uv-line")+e.resolveComponent("uv-datetime-picker"))()}Math||((()=>"../../uni_modules/uv-icon/components/uv-icon/uv-icon.js")+(()=>"../../uni_modules/uv-line/components/uv-line/uv-line.js")+(()=>"../../uni_modules/uv-datetime-picker/components/uv-datetime-picker/uv-datetime-picker.js"))();const a={__name:"my-datetime",props:{modelValue:{default:()=>[],type:Array},disabled:{default:!1,type:Boolean}},emits:["update:modelValue","change"],setup(a,{emit:o}){const l=a,u=o,t=e.ref(),n=e.ref(),r=e.ref("start"),d=e.ref(),v=e.ref("2000-01-01"),i=e.ref("2049-12-31");e.dayjs(),e.dayjs().add(1,"year").valueOf();const s=e.ref();function m(e,a){return"year"===e?`${a}年`:"month"===e?`${a}月`:"day"===e?`${a}日`:a}function c(a){l.disabled||(r.value=a,"start"===a&&(s.value=t.value||e.dayjs().format("YYYY-MM-DD")),"end"===a&&(s.value=n.value||e.dayjs().format("YYYY-MM-DD")),d.value.open())}function f({value:a}){const o=e.dayjs(a).format("YYYY-MM-DD");"start"===r.value&&(n.value&&e.dayjs(o).isAfter(n.value)?(t.value=n.value,n.value=o):t.value=o),"end"===r.value&&(t.value&&e.dayjs(o).isBefore(t.value)?(n.value=t.value,t.value=o):n.value=o);const l=[(null==t?void 0:t.value)??"",(null==n?void 0:n.value)??""];console.log("confirmDateTime",l),u("update:modelValue",l),u("change",l)}return e.watchEffect((()=>{console.log("modelValue",l.modelValue);const[e,a]=l.modelValue;t.value=e,n.value=a})),(o,l)=>e.e({a:e.t(t.value||"开始时间"),b:!a.disabled},a.disabled?{}:{c:e.p({name:"arrow-down",size:"8",color:"#B0BECC"})},{d:t.value?1:"",e:e.o((e=>c("start"))),f:e.p({color:"#C8D4DF",length:"20rpx",margin:"0 20rpx"}),g:e.t(n.value||"结束时间"),h:!a.disabled},a.disabled?{}:{i:e.p({name:"arrow-down",size:"8",color:"#B0BECC"})},{j:n.value?1:"",k:e.o((e=>c("end"))),l:e.sr(d,"53d1aaa0-3",{k:"datetimePicker"}),m:e.o(f),n:e.o((e=>s.value=e)),o:e.p({mode:"date",confirmColor:"var(--main-color)","min-date":v.value,"max-date":i.value,formatter:m,modelValue:s.value})})}};wx.createComponent(a);
